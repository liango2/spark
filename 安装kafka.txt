1.下载kafka
http://kafka.apache.org/downloads

2.启动zookeeper
--开启一个Terminal
# tar -zxvf kafka_2.11-0.10.1.1.tgz
# cd kafka_2.11-0.10.1.1
# bin/zookeeper-server-start.sh config/zookeeper.properties
# netstat -tlnp|grep 2181
tcp        0      0 :::2181                     :::*                        LISTEN      4448/java           
--说明zookeeper服务已启动，2181是zookeeper的服务端口

3.启动kafka
--开启一个Terminal
# bin/kafka-server-start.sh config/server.properties
--如果链接zookeeper超时
--org.I0Itec.zkclient.exception.ZkTimeoutException: Unable to connect to zookeeper server within timeout: 6000
--就尝试修改server.properties里的zookeeper连接串
--把zookeeper.connect=localhsot:2181修改为zookeeper.connect=hostname:2181
# netstat -tlnp|grep 9092
tcp        0      0 :::9092                     :::*                        LISTEN      5695/java   
--说明kafka服务已启动，9092是kafka的服务端口

4.创建 topic
--开启一个Terminal
# bin/kafka-topics.sh --create --zookeeper hostname:2181 --replication-factor 1 --partitions 1 --topic test
Created topic "test".
--查看创建的topic
# bin/kafka-topics.sh --list --zookeeper hostname:2181
test

5.发送消息
# bin/kafka-console-producer.sh --broker-list hostname:9092 --topic test
hello
world
--按ctrl+c退出消息发送

6.启动consumer
--开启一个Terminal
# bin/kafka-console-consumer.sh --bootstrap-server hostname:9092 --topic test --from-beginning
hello
world
--按ctrl+c退出消息接收
--这样就可以在一个终端输入消息，另一个终端读取消息
